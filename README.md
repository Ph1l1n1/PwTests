## Введение

Тестовый проект с использованием таких инструментов как:

-   Playwright/test - фреймворк для тестирования
-   Allure - создание отчетов

### Как устроен фрейворк "Qwa"

Главная идея заключается в том, чтобы в тестах максимально содержались только бизнес логика тест кейса.
Это достигается за счет создания цепочки шагов через `steps` в которых и будет отображена вся верхнеуровневая логика как теста так и логов, что **повышает читаемость** и упрощает дальнейшую поддержку теста.
Однако это не отменяет возможность в теле теста реализовать низкоуровневый код или напрямую обратиться к драйверу через `pw.*`, такие действия рекомендуется оборачивать в `steps.createStep`

Так же благодаря использованию цепочки шагов можно удобно и быстро создавать тест кейсы за счет уже готовых шагов, которые в себе аккумулируют все необходимое проверки, таймауты и т.п.

Все элементы для взаимодействия (`new QwaElement()` или кастомные ) описаны и хранятся либо на страницах (`*Page.ts`) либо в самих элементах - виджетах (`Widget*.ts`), что позволяет переисполозовать последние во множестве других тестах.
Тесты запускаются в последовательном режиме, но есть возможность и параллельного запуска - подробнее в [опциях запуска](#Опциизапуска)

### Структура проекта

│──**src**  

│────**forTests** Ресурсы для написания тестов

│──────**fixtures** Папка с фикстурами

│──────**pages** Папка со страницами

│──────**widgets** Папка со виджетами

│──────**elements** Папка с элементами

│────**qwaFramework** Ресурсы для работы фреймворка

│──────**core** Базовые сущности фреймворка такие как описание шагов, страниц и элементов

│──**tests** Тесты

│──**pw.config.ts** Конфиг файл для запуска тестов


## Установка

1. Установить [Nodejs 20 версии](https://nodejs.org/en)
2. Установить [Java Runtime](https://www.java.com/en/download/manual.jsp)
3. В корне проекта выполнить команду для установки зависимостей: `npm сi`
4. В корне проекта выполнить команду для установки браузеров: `npx playwright install`

## Запуск тестов

Для запуска необходимо запустить скрипт `test`

### Опции запуска:

1. `HEADLESS` - Запуск браузера без UI 

    **Пример**: `HEADLESS=false npx playwright test --config=pw.config.ts`

    **По дефолту** установлен: `true`
2. `QWA_LOG` - Общий уровень логирования в консоле

    **Пример**: `QWA_LOG=info npx playwright test --config=pw.config.ts`

    Список уровней: `info|warn|debug|error`, подробности в классе Log

    **По дефолту** установлен: `info`

## Генерация отчета

Для запуска необходимо запустить скрипт `report`

## Что можно улучшить

-   Убрать `.run()` и `start()` в качестве триггеров запуска шагов, например через ловушки при вызове методов класса `QwaSteps`
-   Оптимизировать код `steps*` и декомпозировать на разные шаги: `Element steps`, `PageSteps`, `CheckSteps`
-   Оптимизировать код по инициализации страниц по POM